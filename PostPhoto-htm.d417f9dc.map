{"version":3,"sources":["htm.js","PostPhoto-htm.js"],"names":["n","e","JSON","stringify","t","c","i","r","s","a","u","o","f","h","l","g","v","O","$","replace","b","length","d","charCodeAt","trim","charAt","Function","arguments","postPhotoMutation","UpdatePhotos","state","result","allPhotos","postPhoto","ErrorResponse","error","event","preventDefault","history","replaceState","name","description","category","file","query","variables","input","action","setNameValue","ev","target","value","setDescriptionValue","setCategoryValue","setFileValue","files","historyBack","back","html","htm","bind","display","flexDirection","justifyContent","alignItems","message","margin"],"mappings":"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","file":"PostPhoto-htm.d417f9dc.map","sourceRoot":"../src","sourcesContent":["var n = {},\n\te = JSON.stringify;\n\nvar t = function (n) {\n\tfor (var t, c, i, r, s, a = 0, u = \"return \", o = \"\", f = \"\", h = 0, l = \"\", g = \"\", v = \"\", O = 0, $ = function () {\n\t\ti ? 9 === a ? (h++ && (u += \",\"), u += \"h(\" + (f || e(o)), a = 0) : 13 === a || 0 === a && \"...\" === o ? (0 === a ? (v || (v = \")\", l = l ? \"Object.assign(\" + l : \"Object.assign({}\"), l += g + \",\" + f, g = \"\") : r && (l += l ? \",\" + (g ? \"\" : \"{\") : \"{\", g = \"}\", l += e(r) + \":\", l += f || (s || o) && e(o) || \"true\", r = \"\"), s = !1) : 0 === a && (a = 13, r = o, o = f = \"\", $(), a = 0) : (f || (o = o.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) && (h++ && (u += \",\"), u += f || e(o)), o = f = \"\";\n\t}, b = 0; b < n.length; b++) {\n\t\tb > 0 && (i || $(), f = \"$[\" + b + \"]\", $());\n\n\t\tfor (var d = 0; d < n[b].length; d++) {\n\t\t\tif (c = n[b].charCodeAt(d), i) {\n\t\t\t\tif (39 === c || 34 === c) {\n\t\t\t\t\tif (O === c) {\n\t\t\t\t\t\tO = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (0 === O) {\n\t\t\t\t\t\tO = c;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (0 === O) switch (c) {\n\t\t\t\t\tcase 62:\n\t\t\t\t\t\t$(), 47 !== a && (u += l ? \",\" + l + g + v : \",null\"), t && (u += \")\"), i = 0, l = \"\", a = 1;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tcase 61:\n\t\t\t\t\t\ta = 13, s = !0, r = o, o = \"\";\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tcase 47:\n\t\t\t\t\t\tt || (t = !0, 9 !== a || o.trim() || (o = f = \"\", a = 47));\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tcase 9:\n\t\t\t\t\tcase 10:\n\t\t\t\t\tcase 13:\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\t$(), a = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (60 === c) {\n\t\t\t\t$(), i = 1, v = g = l = \"\", t = s = !1, a = 9;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\to += n[b].charAt(d);\n\t\t}\n\t}\n\n\treturn $(), Function(\"h\", \"$\", u);\n};\n\nexport default function (e) {\n\tfor (var c = \".\", i = 0; i < e.length; i++) c += e[i].length + \",\" + e[i];\n\n\treturn (n[c] || (n[c] = t(e)))(this, arguments);\n}","import { h } from 'hyperapp';\nimport htm from './htm.js';\nimport { RequestGraphql } from './effects';\n\nconst postPhotoMutation = `\n\tmutation postPhoto($input: PostPhotoInput!) {\n\t\tpostPhoto(input:$input) {\n\t\t\tid\n\t\t\tname\n\t\t\turl\n\t\t}\n\t}\n`;\n\nconst UpdatePhotos = (state, result) => ({\n\t...state,\n\tallPhotos: [...state.allPhotos, result.postPhoto]\n});\n\nconst ErrorResponse = (state, error) => ({ ...state, error });\n\nconst postPhoto = (state, event) => {\n\tevent.preventDefault();\n\tconst postPhoto = state.postPhoto;\n\thistory.replaceState('', 'title', '/');\n\treturn [\n\t\t{\n\t\t\t...state,\n\t\t\terror: null,\n\t\t\tpostPhoto: { name: '', description: '', category: 'PORTRAIT', file: null },\n\t\t},\n\t\tRequestGraphql({query: postPhotoMutation, variables:{ input: postPhoto }, action:UpdatePhotos, error:ErrorResponse})\n\t\t//<RequestGraphql query={postPhotoMutation} variables={{ input: postPhoto }} action={UpdatePhotos} error={ErrorResponse} />\n\t];\n};\n\nconst setNameValue = (state, ev) => ({\n\t...state,\n\tpostPhoto: {\n\t\t...state.postPhoto,\n\t\tname: ev.target.value\n\t}\n});\n\nconst setDescriptionValue = (state, ev) => ({\n\t...state,\n\tpostPhoto: {\n\t\t...state.postPhoto,\n\t\tdescription: ev.target.value\n\t}\n});\n\nconst setCategoryValue = (state, ev) => ({\n\t...state,\n\tpostPhoto: {\n\t\t...state.postPhoto,\n\t\tcategory: ev.target.value\n\t}\n});\n\nconst setFileValue = (state, ev) => {\n\tconst file = ev.target.files && ev.target.files.length ? ev.target.files[0] : '';\n\treturn {\n\t\t...state,\n\t\tpostPhoto: {\n\t\t\t...state.postPhoto,\n\t\t\tfile\n\t\t}\n\t};\n};\n\n\nconst historyBack = (state, event) => {\n\tevent.preventDefault();\n\thistory.back();\n};\n\nexport default ({ postPhoto: { name, description, category }, error }) => {\n\tconst html = htm.bind(h);\n\treturn html`\n\t\t<html>\n\t\t\t<body>\n\t<form onSubmit=${postPhoto} style=${{ display: 'flex' , flexDirection: 'column' , justifyContent: 'flex-start' , alignItems: 'flex-start' }}>\n\t\t${error ? htm`<h4>${`Error: ${error.message}`}</h4>` : ''}\n\t\t<h1>Post a Photo</h1>\n\t\t<input type=\"text\" style=${{ margin: '10px' }} placeholder=\"photo name...\" value=${name} onChange=${setNameValue} />\n\t\t<textarea style=${{ margin: '10px' }} placeholder=\"photo description...\" value=${description} onChange=${setDescriptionValue} />\n\t\t<select value=${category}\n\t\t\tstyle=${{ margin: '10px' }}\n\t\t\tonChange=${setCategoryValue}>\n\t\t\t<option value=\"PORTRAIT\">PORTRAIT</option>\n\t\t\t<option value=\"LANDSCAPE\">LANDSCAPE</option>\n\t\t\t<option value=\"ACTION\">ACTION</option>\n\t\t\t<option value=\"GRAPHIC\">GRAPHIC</option>\n\t\t</select>\n\t\t<input type=\"file\"\n\t\t\tstyle=${{ margin: '10px' }}\n\t\t\taccept=\"image/jpeg\"\n\t\t\tonChange=${setFileValue} />\n\t\t<div style=${{ margin: '10px' }}>\n\t\t\t<button type=\"submit\">\n\t\t\t\tPost Photo\n\t\t\t</button>\n\t\t\t<button onClick=${historyBack}>\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</div>\n\t</form>\n      </body>\n\t\t\t</html>\n\t\t`;\n};"]}